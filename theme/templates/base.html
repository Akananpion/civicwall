{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
	<head>
    	<title>{% block title %}Smatflow Membership{% endblock %}</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
    	<script src="https://cdn.tailwindcss.com"></script>
		{% tailwind_css %}
	</head>

	<body class="bg-gray-50 font-serif leading-normal tracking-normal">
		<nav class="bg-gray-800">
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
				<div class="flex items-center justify-between h-16">
					<div class="flex items-center">
						<a href="{% url 'home' %}" class="text-white font-bold">SmatFlow</a>
					</div>
					<div class="flex items-center">
						{% if user.is_authenticated %}
							<a href="{% url 'home' %}" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Home</a>
							<a href="{% url 'logout' %}" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Logout</a>
						{% else %}
							<a href="{% url 'login' %}" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Login</a>
							<a href="{% url 'register' %}" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Register</a>
						{% endif %}
					</div>
				</div>
			</div>
		</nav>
	
		<!-- Floating message container -->
		<div id="message-container" class="fixed top-16 right-10 z-50">
			{% if messages %}
				{% for message in messages %}
					<div class="message mb-2 p-4 rounded shadow-lg {% if message.tags == 'error' %}bg-red-100 border-red-400 text-red-700{% else %}bg-green-100 border-green-400 text-green-700{% endif %}" role="alert">
						<span class="block sm:inline">{{ message }}</span>
					</div>
				{% endfor %}
			{% endif %}
		</div>
	
		<div class="container mx-auto mt-4">
			{% block content %}
			{% endblock %}
		</div>

		<script>
			document.addEventListener('DOMContentLoaded', (event) => {
				const messages = document.querySelectorAll('.message');
				messages.forEach((message) => {
					// Trigger reflow to enable transition
					message.offsetHeight;
		
					// Show message with animation
					message.classList.add('show');
		
					// Fade out after 3 seconds
					setTimeout(() => {
						message.style.opacity = '0';
						message.style.transform = 'translateX(100%)';
					}, 3000);
		
					// Remove from DOM after fade out
					setTimeout(() => {
						message.remove();
					}, 5500);
				});
			});
			</script>
	</body>
</html>
